{"version":3,"sources":["js/main.js"],"names":["urlGet","fetch","then","response","status","console","log","json","data","forEach","element","$","append","Code","Name","Progression","Course_syllabus","Id","change","deletebtn","urlSet","click","animate","scrollTop","offset","top","html","val","jsonStr","JSON","stringify","method","headers","body","res","location","reload","catch","err"],"mappings":"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","file":"main.js","sourcesContent":["const urlGet = \"https://studenter.miun.se/~rese1800/dt173g/webbtjanstDel1/corses.php/api\";\r\n\r\nfetch(urlGet)\r\n    .then(\r\n        function (response) {\r\n            if (response.status !== 200) {\r\n                console.log(response.status);\r\n                return;\r\n            }\r\n            /* IF STATUS 200 SHOW DATA */\r\n            response.json().then(function (data) {\r\n                data.forEach(element => {\r\n                    $(\"#courses\").append('<tr><td>' + element.Code + '</td><td class=\"long\">' + element.Name + '</td><td class=\"center\">' + element.Progression + '</td><td><a href=\"' + element.Course_syllabus + '\" target=\"blank\">Webblänk</a></td><td class=\"center btn\" id=\"deletebtn' + element.Id + '\">x</td><td class=\"btn\" id=\"btn' + element.Id + '\">Ändra</td></tr>');\r\n                    const change = $('#btn' + element.Id);\r\n                    const deletebtn = $('#deletebtn' + element.Id);\r\n                    const urlSet = \"https://studenter.miun.se/~rese1800/dt173g/webbtjanstDel1/corses.php/api/\" + element.Id;\r\n                    /* CHANGE COURSE */\r\n                    $(change).click(function () {\r\n                        $('html, body').animate({\r\n                            scrollTop: $(\"#newname\").offset().top\r\n                        }, 2000);\r\n\r\n                        $('#newname').html('Ändra kurs');\r\n                        $('#onchange').html('<button id=\"submit2\">Ändra</button>');\r\n                        $('#ccode').val(element.Code);\r\n                        $('#cname').val(element.Name);\r\n                        $('#prog').val(element.Progression);\r\n                        $('#sylla').val(element.Course_syllabus);\r\n                        $('#submit2').click(function () {\r\n\r\n                            let jsonStr = JSON.stringify({\r\n                                \"code\": $('#ccode').val(),\r\n                                \"name\": $('#cname').val(),\r\n                                \"prog\": $('#prog').val(),\r\n                                \"course_syllabus\": $('#sylla').val(),\r\n                            });\r\n\r\n                            fetch(urlSet, {\r\n                                method: 'PUT',\r\n                                headers: {\r\n                                    'Content-Type': 'application/json'\r\n                                },\r\n                                body: jsonStr\r\n                            }).then((res) => res.json())\r\n                                .then((data) => location.reload())\r\n                                .catch((err) => console.log(err))\r\n                        });\r\n                    });\r\n                    /* DELETE COURSE */\r\n                    $(deletebtn).click(function () {\r\n                        fetch(urlSet, {\r\n                            method: 'DELETE',\r\n                            headers: {\r\n                                'Content-Type': 'application/json'\r\n                            },\r\n                        }).then((res) => res.json())\r\n                            .then((data) => location.reload())\r\n                            .catch((err) => location.reload())\r\n                    });\r\n                });\r\n\r\n                /* SUBMIT COURSE */\r\n                $('#submit').click(function () {\r\n                    let jsonStr = JSON.stringify({\r\n                        \"code\": $('#ccode').val(),\r\n                        \"name\": $('#cname').val(),\r\n                        \"prog\": $('#prog').val(),\r\n                        \"course_syllabus\": $('#sylla').val(),\r\n                    });\r\n\r\n                    fetch(urlGet, {\r\n                        method: 'POST',\r\n                        headers: {\r\n                            'Content-Type': 'application/json'\r\n                        },\r\n                        body: jsonStr\r\n                    }).then((res) => res.json())\r\n                        .then((data) => location.reload())\r\n                        .catch((err) => console.log(err))\r\n                });\r\n            });\r\n        }\r\n    )\r\n    .catch(function (err) {\r\n        console.log('Fetch Error :-S', err);\r\n    });\r\n\r\n\r\n\r\n\r\n"]}