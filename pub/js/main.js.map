{"version":3,"sources":["js/main.js"],"names":["urlGet","fetch","then","response","status","console","log","json","data","forEach","element","$","append","Code","Name","Progression","Course_syllabus","Id","change","deletebtn","urlSet","click","animate","scrollTop","offset","top","html","val","focus","jsonStr","JSON","stringify","method","headers","body","res","location","reload","catch","err"],"mappings":"AAAA,MAAMA,MAAM,GAAG,yEAAf;AAGAC,KAAK,CAACD,MAAD,CAAL,CACCE,IADD,CAEA,UAAUC,QAAV,EAAoB;AACpB,MAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC7BC,IAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,MAArB;AACA;AACC;;AAEDD,EAAAA,QAAQ,CAACI,IAAT,GAAgBL,IAAhB,CAAqB,UAAUM,IAAV,EAAgB;AACrCA,IAAAA,IAAI,CAACC,OAAL,CAAaC,OAAO,IAAI;AACpBC,MAAAA,CAAC,CAAC,UAAD,CAAD,CAAcC,MAAd,CAAqB,aAAWF,OAAO,CAACG,IAAnB,GAAwB,wBAAxB,GAAiDH,OAAO,CAACI,IAAzD,GAA8D,0BAA9D,GAAyFJ,OAAO,CAACK,WAAjG,GAA6G,oBAA7G,GAAkIL,OAAO,CAACM,eAA1I,GAA0J,wEAA1J,GAAmON,OAAO,CAACO,EAA3O,GAA8O,iCAA9O,GAAgRP,OAAO,CAACO,EAAxR,GAA2R,mBAAhT;AACA,YAAMC,MAAM,GAAGP,CAAC,CAAC,SAAOD,OAAO,CAACO,EAAhB,CAAhB;AACA,YAAME,SAAS,GAAGR,CAAC,CAAC,eAAaD,OAAO,CAACO,EAAtB,CAAnB;AACA,YAAMG,MAAM,GAAG,6EAA2EV,OAAO,CAACO,EAAlG;AACA;;AACAN,MAAAA,CAAC,CAACO,MAAD,CAAD,CAAUG,KAAV,CAAgB,YAAW;AACvBV,QAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBW,OAAhB,CAAwB;AACpBC,UAAAA,SAAS,EAAEZ,CAAC,CAAC,UAAD,CAAD,CAAca,MAAd,GAAuBC;AADd,SAAxB,EAEG,IAFH;AAIAd,QAAAA,CAAC,CAAC,UAAD,CAAD,CAAce,IAAd,CAAmB,YAAnB;AACAf,QAAAA,CAAC,CAAC,SAAD,CAAD,CAAae,IAAb,CAAkB,OAAlB;AACAf,QAAAA,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ,CAAgBjB,OAAO,CAACG,IAAxB;AACAF,QAAAA,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ,CAAgBjB,OAAO,CAACI,IAAxB;AACAH,QAAAA,CAAC,CAAC,OAAD,CAAD,CAAWgB,GAAX,CAAejB,OAAO,CAACK,WAAvB;AACAJ,QAAAA,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ,CAAgBjB,OAAO,CAACM,eAAxB;AACAL,QAAAA,CAAC,CAAC,SAAD,CAAD,CAAaU,KAAb,CAAmB,YAAW;AAC1B,cAAGV,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ,MAAqB,EAAxB,EAA2B;AACvBhB,YAAAA,CAAC,CAAC,QAAD,CAAD,CAAYiB,KAAZ;AACAjB,YAAAA,CAAC,CAAC,QAAD,CAAD,CAAYe,IAAZ,CAAiB,8BAAjB;AACH,WAHD,MAGM,IAAGf,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ,MAAqB,EAAxB,EAA2B;AAC7BhB,YAAAA,CAAC,CAAC,QAAD,CAAD,CAAYiB,KAAZ;AACAjB,YAAAA,CAAC,CAAC,QAAD,CAAD,CAAYe,IAAZ,CAAiB,8BAAjB;AACH,WAHK,MAGA,IAAGf,CAAC,CAAC,OAAD,CAAD,CAAWgB,GAAX,MAAoB,EAAvB,EAA0B;AAC5BhB,YAAAA,CAAC,CAAC,OAAD,CAAD,CAAWiB,KAAX;AACAjB,YAAAA,CAAC,CAAC,QAAD,CAAD,CAAYe,IAAZ,CAAiB,8BAAjB;AACH,WAHK,MAGA,IAAGf,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ,MAAqB,EAAxB,EAA2B;AAC7BhB,YAAAA,CAAC,CAAC,QAAD,CAAD,CAAYiB,KAAZ;AACAjB,YAAAA,CAAC,CAAC,QAAD,CAAD,CAAYe,IAAZ,CAAiB,8BAAjB;AACH,WAHK,MAGA;AAEN,gBAAIG,OAAO,GAAGC,IAAI,CAACC,SAAL,CAAe;AACzB,sBAAQpB,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ,EADiB;AAEzB,sBAAQhB,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ,EAFiB;AAGzB,sBAAQhB,CAAC,CAAC,OAAD,CAAD,CAAWgB,GAAX,EAHiB;AAIzB,iCAAmBhB,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ;AAJM,aAAf,CAAd;AAOA1B,YAAAA,KAAK,CAACmB,MAAD,EAAS;AACZY,cAAAA,MAAM,EAAE,KADI;AAEZC,cAAAA,OAAO,EAAE;AACT,gCAAgB;AADP,eAFG;AAKZC,cAAAA,IAAI,EAAEL;AALM,aAAT,CAAL,CAMK3B,IANL,CAMWiC,GAAD,IAASA,GAAG,CAAC5B,IAAJ,EANnB,EAOGL,IAPH,CAOSM,IAAD,IAAU4B,QAAQ,CAACC,MAAT,EAPlB,EAQGC,KARH,CAQUC,GAAD,IAASlC,OAAO,CAACC,GAAR,CAAYiC,GAAZ,CARlB;AASF;AAAE,SA/BJ;AAgCH,OA3CD;AA4CJ;;AACI5B,MAAAA,CAAC,CAACQ,SAAD,CAAD,CAAaE,KAAb,CAAmB,YAAW;AACtBpB,QAAAA,KAAK,CAACmB,MAAD,EAAS;AACZY,UAAAA,MAAM,EAAE,QADI;AAEZC,UAAAA,OAAO,EAAE;AACT,4BAAgB;AADP;AAFG,SAAT,CAAL,CAKK/B,IALL,CAKWiC,GAAD,IAASA,GAAG,CAAC5B,IAAJ,EALnB,EAMGL,IANH,CAMSM,IAAD,IAAU4B,QAAQ,CAACC,MAAT,EANlB,EAOGC,KAPH,CAOUC,GAAD,IAASH,QAAQ,CAACC,MAAT,EAPlB;AAQP,OATD;AAUA,KA7DJ;AA+DI;;AACD1B,IAAAA,CAAC,CAAC,SAAD,CAAD,CAAaU,KAAb,CAAmB,YAAW;AAC7B,UAAGV,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ,MAAqB,EAAxB,EAA2B;AACvBhB,QAAAA,CAAC,CAAC,QAAD,CAAD,CAAYiB,KAAZ;AACAjB,QAAAA,CAAC,CAAC,QAAD,CAAD,CAAYe,IAAZ,CAAiB,8BAAjB;AACH,OAHD,MAGM,IAAGf,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ,MAAqB,EAAxB,EAA2B;AAC7BhB,QAAAA,CAAC,CAAC,QAAD,CAAD,CAAYiB,KAAZ;AACAjB,QAAAA,CAAC,CAAC,QAAD,CAAD,CAAYe,IAAZ,CAAiB,8BAAjB;AACH,OAHK,MAGA,IAAGf,CAAC,CAAC,OAAD,CAAD,CAAWgB,GAAX,MAAoB,EAAvB,EAA0B;AAC5BhB,QAAAA,CAAC,CAAC,OAAD,CAAD,CAAWiB,KAAX;AACAjB,QAAAA,CAAC,CAAC,QAAD,CAAD,CAAYe,IAAZ,CAAiB,8BAAjB;AACH,OAHK,MAGA,IAAGf,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ,MAAqB,EAAxB,EAA2B;AAC7BhB,QAAAA,CAAC,CAAC,QAAD,CAAD,CAAYiB,KAAZ;AACAjB,QAAAA,CAAC,CAAC,QAAD,CAAD,CAAYe,IAAZ,CAAiB,8BAAjB;AACH,OAHK,MAGA;AAEN,YAAIG,OAAO,GAAGC,IAAI,CAACC,SAAL,CAAe;AAGzB,kBAAQpB,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ,EAHiB;AAIzB,kBAAQhB,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ,EAJiB;AAKzB,kBAAQhB,CAAC,CAAC,OAAD,CAAD,CAAWgB,GAAX,EALiB;AAMzB,6BAAmBhB,CAAC,CAAC,QAAD,CAAD,CAAYgB,GAAZ;AANM,SAAf,CAAd;AASA1B,QAAAA,KAAK,CAACD,MAAD,EAAS;AACZgC,UAAAA,MAAM,EAAE,MADI;AAEZC,UAAAA,OAAO,EAAE;AACT,4BAAgB;AADP,WAFG;AAKZC,UAAAA,IAAI,EAAEL;AALM,SAAT,CAAL,CAMK3B,IANL,CAMWiC,GAAD,IAASA,GAAG,CAAC5B,IAAJ,EANnB,EAOGL,IAPH,CAOSM,IAAD,IAAU4B,QAAQ,CAACC,MAAT,EAPlB,EAQGC,KARH,CAQUC,GAAD,IAASlC,OAAO,CAACC,GAAR,CAAYiC,GAAZ,CARlB;AASA;AAAC,KAjCF;AAkCF,GAnGD;AAoGC,CA5GD,EA8GCD,KA9GD,CA8GO,UAAUC,GAAV,EAAe;AACtBlC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BiC,GAA/B;AACC,CAhHD","file":"main.js","sourcesContent":["const urlGet = \"http://studenter.miun.se/~rese1800/dt173g/webbtjanstDel1/corses.php/api\";\r\n\r\n\r\nfetch(urlGet)\r\n.then(\r\nfunction (response) {\r\nif (response.status !== 200) {\r\nconsole.log(response.status);\r\nreturn;\r\n}\r\n\r\nresponse.json().then(function (data) {\r\ndata.forEach(element => {\r\n    $(\"#courses\").append('<tr><td>'+element.Code+'</td><td class=\"long\">'+element.Name+'</td><td class=\"center\">'+element.Progression+'</td><td><a href=\"'+element.Course_syllabus+'\" target=\"blank\">Webblänk</a></td><td class=\"center btn\" id=\"deletebtn'+element.Id+'\">x</td><td class=\"btn\" id=\"btn'+element.Id+'\">Ändra</td></tr>') ;\r\n    const change = $('#btn'+element.Id);\r\n    const deletebtn = $('#deletebtn'+element.Id);\r\n    const urlSet = \"http://studenter.miun.se/~rese1800/dt173g/webbtjanstDel1/corses.php/api/\"+element.Id;\r\n    /* CHANGE COURSE */\r\n    $(change).click(function() {\r\n        $('html, body').animate({\r\n            scrollTop: $(\"#newname\").offset().top\r\n        }, 2000);\r\n\r\n        $('#newname').html('Ändra kurs');\r\n        $('#submit').html('Ändra');\r\n        $('#ccode').val(element.Code);\r\n        $('#cname').val(element.Name);\r\n        $('#prog').val(element.Progression);\r\n        $('#sylla').val(element.Course_syllabus);\r\n        $('#submit').click(function() {\r\n            if($('#ccode').val() == ''){\r\n                $('#ccode').focus();\r\n                $('#error').html('Alla fält måste vara ifyllda');\r\n            }else if($('#cname').val() == ''){\r\n                $('#cname').focus();\r\n                $('#error').html('Alla fält måste vara ifyllda');\r\n            }else if($('#prog').val() == ''){\r\n                $('#prog').focus();\r\n                $('#error').html('Alla fält måste vara ifyllda');\r\n            }else if($('#sylla').val() == ''){\r\n                $('#sylla').focus();\r\n                $('#error').html('Alla fält måste vara ifyllda');\r\n            }else {\r\n\r\n            let jsonStr = JSON.stringify({\r\n                \"code\": $('#ccode').val(),\r\n                \"name\": $('#cname').val(),\r\n                \"prog\": $('#prog').val(),\r\n                \"course_syllabus\": $('#sylla').val(),\r\n                });\r\n\r\n            fetch(urlSet, {\r\n              method: 'PUT',\r\n              headers: {\r\n              'Content-Type': 'application/json'\r\n              },\r\n              body: jsonStr\r\n              }).then((res) => res.json())\r\n              .then((data) => location.reload())\r\n              .catch((err) => console.log(err))\r\n         } });\r\n    });\r\n/* DELETE COURSE */\r\n    $(deletebtn).click(function() {\r\n            fetch(urlSet, {\r\n              method: 'DELETE',\r\n              headers: {\r\n              'Content-Type': 'application/json'\r\n              },\r\n              }).then((res) => res.json())\r\n              .then((data) => location.reload())\r\n              .catch((err) => location.reload())\r\n    });\r\n   });\r\n \r\n    /* SUBMIT COURSE */\r\n   $('#submit').click(function() {\r\n    if($('#ccode').val() == ''){\r\n        $('#ccode').focus();\r\n        $('#error').html('Alla fält måste vara ifyllda');\r\n    }else if($('#cname').val() == ''){\r\n        $('#cname').focus();\r\n        $('#error').html('Alla fält måste vara ifyllda');\r\n    }else if($('#prog').val() == ''){\r\n        $('#prog').focus();\r\n        $('#error').html('Alla fält måste vara ifyllda');\r\n    }else if($('#sylla').val() == ''){\r\n        $('#sylla').focus();\r\n        $('#error').html('Alla fält måste vara ifyllda');\r\n    }else {\r\n        \r\n    let jsonStr = JSON.stringify({\r\n\r\n     \r\n        \"code\": $('#ccode').val(),\r\n        \"name\": $('#cname').val(),\r\n        \"prog\": $('#prog').val(),\r\n        \"course_syllabus\": $('#sylla').val(),\r\n        });\r\n\r\n    fetch(urlGet, {\r\n      method: 'POST',\r\n      headers: {\r\n      'Content-Type': 'application/json'\r\n      },\r\n      body: jsonStr\r\n      }).then((res) => res.json())\r\n      .then((data) => location.reload())\r\n      .catch((err) => console.log(err))\r\n   }}); \r\n})\r\n}\r\n)\r\n.catch(function (err) {\r\nconsole.log('Fetch Error :-S', err);\r\n});\r\n\r\n\r\n\r\n\r\n"]}